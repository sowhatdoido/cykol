(function(g){var h={continuous:!0,swipe:!0,duration:250,easing:"ease",timeout:0};Cykol=function(a,b){this.element=a;this.options=g.extend({},h,b);this.activeSlide=null;this.init()};Cykol.prototype.init=function(){var a=this.element;a.children().addClass("cykol-slide");a.addClass("cykol-wrapper");!0==this.options.continuous?(this.prependSlide(2),this.setActiveSlide(a.find(">:nth-child(3)"))):this.setActiveSlide(a.find(">:nth-child(1)"));this.initEventBindings();var b=this;setTimeout(function(){var a=
"all "+b.options.duration+"ms "+b.options.easing;b.element.find(".cykol-slide").css({"-webkit-transition":a,"-o-transition":a,transition:a})},0);this.advanceToSlide(this.activeSlide);if("function"==typeof this.options.onInit)this.options.onInit()};Cykol.prototype.initEventBindings=function(){var a=this,b=this.element,c=0,e=0,d=0,f=0;!0==a.options.swipe&&(b.on("touchstart",function(a){c=a.touches[0].clientX;e=a.touches[0].clientY}),b.on("touchend",function(b){d=b.changedTouches[0].clientX;f=b.changedTouches[0].clientY;
if(25<Math.abs(f-e)&&200>Math.abs(d-c))return!1;d<c&&a.nextSlide();d>c&&a.prevSlide()}));b.on("click",".cykol-next",function(){a.nextSlide()});b.on("click",".cykol-prev",function(){a.prevSlide()})};Cykol.prototype.setActiveSlide=function(a){if(0==a.length)return!1;this.clearSlideStyles();this.activeSlide=a;this.activeSlide.addClass("cykol-slide-active");a=this.activeSlide.prev();0<a.length&&a.addClass("cykol-slide-preview").addClass("cykol-prev");a=this.activeSlide.next();0<a.length&&a.addClass("cykol-slide-preview").addClass("cykol-next");
return!0};Cykol.prototype.clearSlideStyles=function(){this.element.find(".cykol-slide-preview").removeClass("cykol-slide-preview");this.element.find(".cykol-slide-active").removeClass("cykol-slide-active");this.element.find(".cykol-prev").removeClass("cykol-prev");this.element.find(".cykol-next").removeClass("cykol-next")};Cykol.prototype.advanceToSlide=function(a){this.setActiveSlide(a);if("function"==typeof this.options.onAnimation)this.options.onAnimation(this.activeSlide);0<this.options.timeout&&
(this.autoplayTimer&&clearInterval(this.autoplayTimer),this.autoplay())};Cykol.prototype.nextSlide=function(){this.advanceToSlide(this.activeSlide.next());if(!0==this.options.continuous){var a=this.element;a.find(">:first-child").appendTo(a).after(" ")}};Cykol.prototype.prevSlide=function(){!0==this.options.continuous&&this.prependSlide();this.advanceToSlide(this.activeSlide.prev())};Cykol.prototype.prependSlide=function(a){var b=this.element;a="number"==typeof a?a:1;for(var c=0;c<a;c++)b.find(">:last-child").prependTo(b).after(" ")};
Cykol.prototype.autoplay=function(){var a=this;this.autoplayTimer=setTimeout(function(){a.nextSlide()},this.options.timeout)};Cykol.prototype.stop=function(){clearTimeout(this.autoplayTimer)};jQuery.fn.cykol=function(a){return new Cykol(this,a)}})(jQuery);
